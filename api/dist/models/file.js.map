{"version":3,"sources":["../../src/models/file.js"],"names":["File","app","object","model","name","originalName","mimetype","size","created","Date","now","get","callback","db","collection","insertOne","err","result"],"mappings":";;;;;;;;AAAA;;;;;;;;IACMA,I;AAEF,kBAAYC,GAAZ,EAAiBC,MAAjB,EAAyB;AAAA;;AACrB,aAAKD,GAAL,GAAWA,GAAX;AACA,aAAKE,KAAL,GAAa;AACTC,kBAAM,IADG;AAETC,0BAAc,IAFL;AAGTC,sBAAU,IAHD;AAITC,kBAAM,IAJG;AAKTC,qBAASC,KAAKC,GAAL;;AALA,SAAb;AAQH;;;;uCAEcR,M,EAAQ;AACnB,iBAAKC,KAAL,CAAWC,IAAX,GAAkB,iBAAEO,GAAF,CAAMT,MAAN,EAAc,UAAd,CAAlB;AACA,iBAAKC,KAAL,CAAWE,YAAX,GAA0B,iBAAEM,GAAF,CAAMT,MAAN,EAAc,cAAd,CAA1B;AACA,iBAAKC,KAAL,CAAWG,QAAX,GAAsB,iBAAEK,GAAF,CAAMT,MAAN,EAAc,UAAd,CAAtB;AACA,iBAAKC,KAAL,CAAWI,IAAX,GAAkB,iBAAEI,GAAF,CAAMT,MAAN,EAAc,MAAd,CAAlB;AACA,iBAAKC,KAAL,CAAWK,OAAX,GAAqBC,KAAKC,GAAL,EAArB;AACA,mBAAO,IAAP;AACH;;;iCACQ;AACL,mBAAO,KAAKP,KAAZ;AACH;;;6BACIS,Q,EAAU;AACX,gBAAMC,KAAK,KAAKZ,GAAL,CAASU,GAAT,CAAa,IAAb,CAAX;AACAE,eAAGC,UAAH,CAAc,OAAd,EAAuBC,SAAvB,CAAiC,KAAKZ,KAAtC,EAA6C,UAACa,GAAD,EAAMC,MAAN,EAAiB;AAC1D,uBAAOL,SAASI,GAAT,EAAcC,MAAd,CAAP;AACH,aAFD;AAGH;;;;;;kBAEUjB,I","file":"file.js","sourcesContent":["import _ from 'lodash';\r\nclass File {\r\n\r\n    constructor(app, object) {\r\n        this.app = app;\r\n        this.model = {\r\n            name: null,\r\n            originalName: null,\r\n            mimetype: null,\r\n            size: null, \r\n            created: Date.now(),\r\n\r\n        }\r\n    }\r\n\r\n    initWithObject(object) {\r\n        this.model.name = _.get(object, 'filename');\r\n        this.model.originalName = _.get(object, 'originalname');\r\n        this.model.mimetype = _.get(object, 'mimetype');\r\n        this.model.size = _.get(object, 'size');\r\n        this.model.created = Date.now();\r\n        return this;\r\n    }\r\n    toJSON() {\r\n        return this.model;\r\n    }\r\n    save(callback) {\r\n        const db = this.app.get('db');\r\n        db.collection('files').insertOne(this.model, (err, result) => {\r\n            return callback(err, result);\r\n        })\r\n    }\r\n}\r\nexport default File;"]}